<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä monobank</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;

            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);

            --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --radius-base: 8px;
            --radius-lg: 12px;
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-gray-400-rgb: 119, 124, 124;
                --color-teal-300-rgb: 50, 184, 198;
                --color-gray-300-rgb: 167, 169, 169;
                --color-gray-200-rgb: 245, 245, 245;

                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
                --color-primary: var(--color-teal-300);
                --color-primary-hover: var(--color-teal-400);
                --color-border: rgba(var(--color-gray-400-rgb), 0.3);
                --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family-base);
            background-color: var(--color-background);
            color: var(--color-text);
            padding: var(--space-24);
            line-height: 1.5;
        }

        .container {
            max-width: 1080px;
            margin: 0 auto;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .subtitle {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-32);
            font-size: 14px;
        }

        .tabs {
            display: flex;
            gap: var(--space-8);
            margin-bottom: var(--space-24);
            border-bottom: 1px solid var(--color-border);
        }

        .tab {
            padding: var(--space-12) var(--space-24);
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab:hover {
            color: var(--color-text);
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            padding: var(--space-24);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--space-24);
        }

        .form-group {
            margin-bottom: var(--space-20);
        }

        label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: 500;
            font-size: 14px;
            color: var(--color-text);
        }

        input[type="number"], select {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-size: 15px;
            background-color: var(--color-background);
            color: var(--color-text);
            transition: border-color 0.2s;
        }

        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .btn {
            padding: var(--space-12) var(--space-24);
            background-color: var(--color-primary);
            color: white;
            border: none;
            border-radius: var(--radius-base);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .btn.full {
            width: 100%;
        }

        .btn:hover {
            background-color: var(--color-primary-hover);
        }

        .result-section {
            margin-top: var(--space-24);
            padding: var(--space-20);
            background-color: var(--color-background);
            border-radius: var(--radius-base);
            border: 1px solid var(--color-card-border);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: var(--space-12) 0;
            border-bottom: 1px solid var(--color-border);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: var(--color-text-secondary);
            font-size: 14px;
        }

        .result-value {
            font-weight: 600;
            font-size: 16px;
            color: var(--color-text);
        }

        .result-value.highlight {
            color: var(--color-primary);
            font-size: 18px;
        }

        .info-box {
            background-color: rgba(var(--color-teal-500-rgb), 0.08);
            border-left: 3px solid var(--color-primary);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-top: var(--space-16);
            font-size: 13px;
            color: var(--color-text-secondary);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-16);
        }

        @media (max-width: 800px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }

            body {
                padding: var(--space-16);
            }
        }

        .rate-badge {
            display: inline-block;
            padding: 4px 10px;
            background-color: rgba(var(--color-teal-500-rgb), 0.15);
            color: var(--color-primary);
            border-radius: 4px;
            font-size: 13px;
            font-weight: 600;
            margin-left: var(--space-8);
        }

        .period-card {
            background-color: var(--color-background);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            margin-bottom: var(--space-16);
            position: relative;
        }

        .period-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-12);
        }

        .period-title {
            font-weight: 600;
            font-size: 14px;
            color: var(--color-text);
        }

        .remove-btn {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            font-size: 20px;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .remove-btn:hover {
            background-color: rgba(192, 21, 47, 0.1);
            color: rgba(192, 21, 47, 1);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: var(--space-12);
        }

        @media (max-width: 640px) {
            .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        .kdz-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: var(--space-16);
            font-size: 13px;
        }

        .kdz-table th,
        .kdz-table td {
            border: 1px solid var(--color-border);
            padding: 6px 8px;
            text-align: right;
        }

        .kdz-table th {
            background-color: rgba(var(--color-teal-500-rgb), 0.06);
            text-align: center;
            font-weight: 600;
        }

        .kdz-table td:first-child {
            text-align: center;
        }

        .kdz-table tfoot td {
            font-weight: 600;
            background-color: rgba(var(--color-teal-500-rgb), 0.04);
        }

        .pill {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 11px;
            border: 1px solid var(--color-border);
            color: var(--color-text-secondary);
        }
    </style>
</head>
<body>
<div class="container">
    <h1>üè¶ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä monobank</h1>
    <p class="subtitle">–ö—Ä–µ–¥–∏—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç, —Ä–æ–∑—Å—Ç—Ä–æ—á–∫–∞ —Ç–∞ –ö–î–ó</p>

    <div class="tabs">
        <button class="tab active" data-tab="credit">–ö—Ä–µ–¥–∏—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç</button>
        <button class="tab" data-tab="installment">–†–æ–∑—Å—Ç—Ä–æ—á–∫–∞</button>
        <button class="tab" data-tab="kdz">–ö–î–ó</button>
    </div>

    <!-- –ö—Ä–µ–¥–∏—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç -->
    <div class="tab-content active" id="credit">
        <div class="card">
            <h2 style="margin-bottom: var(--space-16); font-size: 20px;">
                –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–æ—Ü–µ–Ω—Ç—ñ–≤ –∑–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∏–º –ª—ñ–º—ñ—Ç–æ–º
            </h2>

            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="leapYearCredit" style="width: auto;">
                    –í–∏—Å–æ–∫–æ—Å–Ω–∏–π —Ä—ñ–∫ (366 –¥–Ω—ñ–≤)
                </label>
            </div>

            <h3 style="margin: var(--space-20) 0 var(--space-12) 0; font-size: 16px; font-weight: 600;">
                –°—Ç–∞–≤–∫–∞ 3.1%
            </h3>
            <div id="periods31"></div>
            <button class="btn full" onclick="addPeriod31()" style="background-color: rgba(var(--color-teal-500-rgb), 0.15); color: var(--color-primary); margin-bottom: var(--space-16);">
                + –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—ñ–æ–¥ 3.1%
            </button>

            <h3 style="margin: var(--space-20) 0 var(--space-12) 0; font-size: 16px; font-weight: 600;">
                –°—Ç–∞–≤–∫–∞ 6.2%
            </h3>
            <div id="periods62"></div>
            <button class="btn full" onclick="addPeriod62()" style="background-color: rgba(var(--color-teal-500-rgb), 0.15); color: var(--color-primary); margin-bottom: var(--space-16);">
                + –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—ñ–æ–¥ 6.2%
            </button>

            <h3 style="margin: var(--space-20) 0 var(--space-12) 0; font-size: 16px; font-weight: 600;">
                –°—É–º–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ –ª—ñ–º—ñ—Ç—É
            </h3>
            <div class="form-group">
                <label>–°—É–º–∞ –Ω–∞ –∫—ñ–Ω–µ—Ü—å –º—ñ—Å—è—Ü—è</label>
                <div style="display: flex; gap: var(--space-12);">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: var(--space-12); border: 1px solid var(--color-border); border-radius: var(--radius-base); flex: 1; background-color: var(--color-background);">
                        <input type="radio" name="overdraftRange" value="less" checked style="width: auto;">
                        –ú–µ–Ω—à–µ 1000 –≥—Ä–Ω (3.1%)
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: var(--space-12); border: 1px solid var(--color-border); border-radius: var(--radius-base); flex: 1; background-color: var(--color-background);">
                        <input type="radio" name="overdraftRange" value="more" style="width: auto;">
                        1000 –≥—Ä–Ω —ñ –±—ñ–ª—å—à–µ (6.2%)
                    </label>
                </div>
            </div>
            <div id="periodsOverdraft"></div>
            <button class="btn full" onclick="addPeriodOverdraft()" style="background-color: rgba(var(--color-teal-500-rgb), 0.15); color: var(--color-primary); margin-bottom: var(--space-16);">
                + –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—ñ–æ–¥ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É
            </button>

            <button class="btn full" onclick="calculateCredit()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤—Å–µ —Ä–∞–∑–æ–º</button>

            <div class="result-section" id="resultCredit" style="display: none;">
                <div class="result-item">
                    <span class="result-label">–í—ñ–¥—Å–æ—Ç–∫–∏ 3.1%</span>
                    <span class="result-value" id="interest31">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item">
                    <span class="result-label">–í—ñ–¥—Å–æ—Ç–∫–∏ 6.2%</span>
                    <span class="result-value" id="interest62">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item" style="border-top: 2px solid var(--color-border); padding-top: var(--space-16); margin-top: var(--space-8);">
                    <span class="result-label" style="font-weight: 600;">–í—Å—å–æ–≥–æ –∑–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç</span>
                    <span class="result-value highlight" id="totalInterest">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item" style="margin-top: var(--space-16); padding-top: var(--space-16); border-top: 1px solid var(--color-border);">
                    <span class="result-label">–í—ñ–¥—Å–æ—Ç–∫–∏ –∑–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É (—Å—Ç–∞–≤–∫–∞: <span id="appliedRate">0%</span>)</span>
                    <span class="result-value" id="interestOverdraft">0 –≥—Ä–Ω</span>
                </div>
            </div>

            <div class="info-box">
                ‚ÑπÔ∏è –§–æ—Ä–º—É–ª–∞: (–°—É–º–∞ √ó –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ √ó –°—Ç–∞–≤–∫–∞% √ó 12) / 365(366) / 100. –ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É: —è–∫—â–æ –Ω–∞ –∫—ñ–Ω–µ—Ü—å –º—ñ—Å—è—Ü—è &lt; 1000 –≥—Ä–Ω ‚Äî 3.1%, —è–∫—â–æ ‚â• 1000 –≥—Ä–Ω ‚Äî 6.2%
            </div>
        </div>
    </div>

    <!-- –†–æ–∑—Å—Ç—Ä–æ—á–∫–∞ -->
    <div class="tab-content" id="installment">
        <div class="card">
            <h2 style="margin-bottom: var(--space-16); font-size: 20px;">
                –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ä–æ–∑—Å—Ç—Ä–æ—á–∫–∏ <span class="rate-badge">1.9%/–º—ñ—Å</span>
            </h2>

            <div class="grid-2">
                <div class="form-group">
                    <label for="amountInst">–°—É–º–∞ —Ä–æ–∑—Å—Ç—Ä–æ—á–∫–∏ (–≥—Ä–Ω)</label>
                    <input type="number" id="amountInst" value="30000" step="0.01" min="0">
                </div>

                <div class="form-group">
                    <label for="monthsInst">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—è—Ü—ñ–≤</label>
                    <input type="number" id="monthsInst" value="6" min="1" max="24">
                </div>
            </div>

            <button class="btn full" onclick="calculateInstallment()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>

            <div class="result-section" id="resultInst" style="display: none;">
                <div class="result-item">
                    <span class="result-label">–©–æ–º—ñ—Å—è—á–Ω–∏–π –ø–ª–∞—Ç—ñ–∂</span>
                    <span class="result-value highlight" id="monthlyPayment">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item">
                    <span class="result-label">–ö–æ–º—ñ—Å—ñ—è –∑–∞ –º—ñ—Å—è—Ü—å</span>
                    <span class="result-value" id="monthlyFee">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item">
                    <span class="result-label">–ó–∞–≥–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–ø–ª–∞—Ç–∞</span>
                    <span class="result-value" id="totalOverpayment">0 –≥—Ä–Ω</span>
                </div>
                <div class="result-item">
                    <span class="result-label">–í—Å—å–æ–≥–æ –¥–æ —Å–ø–ª–∞—Ç–∏</span>
                    <span class="result-value" id="totalInstallment">0 –≥—Ä–Ω</span>
                </div>
            </div>

            <div class="info-box">
                ‚ÑπÔ∏è –ö–æ–º—ñ—Å—ñ—è 1.9% –≤—ñ–¥ —Å—É–º–∏ —Ä–æ–∑—Å—Ç—Ä–æ—á–∫–∏ —â–æ–º—ñ—Å—è—Ü—è
            </div>
        </div>
    </div>

    <!-- –ö–î–ó -->
    <div class="tab-content" id="kdz">
        <div class="card">
            <h2 style="margin-bottom: var(--space-16); font-size: 20px;">
                –ö—Ä–µ–¥–∏—Ç ¬´–î–æ –∑–∞–≤—Ç—Ä–∞¬ª (–ö–î–ó)
            </h2>

            <div class="grid-2">
                <!-- –õ—ñ–≤–∞: –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ö–î–ó -->
                <div>
                    <h3 style="margin-bottom: var(--space-12); font-size: 16px; font-weight: 600;">–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –ö–î–ó</h3>
                    <div class="form-group">
                        <label for="kdzBody">–¢—ñ–ª–æ –∫—Ä–µ–¥–∏—Ç—É (–≥—Ä–Ω)</label>
                        <input type="number" id="kdzBody" value="5000" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="kdzDays">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ (2‚Äì30, –º–∞–∫—Å 365)</label>
                        <input type="number" id="kdzDays" value="14" min="1" max="365">
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–∞–≤–∫–∞ –Ω–∞ –¥–µ–Ω—å</label>
                        <div style="display: flex; flex-direction: column; gap: var(--space-8);">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: var(--space-12); border: 1px solid var(--color-border); border-radius: var(--radius-base); background-color: var(--color-background);">
                                <input type="radio" name="kdzRate" value="0.3" checked style="width: auto;">
                                0.3% –Ω–∞ –¥–µ–Ω—å
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: var(--space-12); border: 1px solid var(--color-border); border-radius: var(--radius-base); background-color: var(--color-background);">
                                <input type="radio" name="kdzRate" value="0.5" style="width: auto;">
                                0.5% –Ω–∞ –¥–µ–Ω—å
                            </label>
                        </div>
                    </div>
                    <button class="btn full" onclick="calculateKdz()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –ö–î–ó</button>

                    <div class="result-section" id="resultKdz" style="display: none;">
                        <div class="result-item">
                            <span class="result-label">–¢—ñ–ª–æ –∫—Ä–µ–¥–∏—Ç—É (–ø–æ—á–∞—Ç–∫–æ–≤–µ)</span>
                            <span class="result-value" id="kdzBodyOut">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–í—Å—å–æ–≥–æ –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤</span>
                            <span class="result-value highlight" id="kdzInterestTotal">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–í—Å—å–æ–≥–æ —Å–ø–ª–∞—á–µ–Ω–∏—Ö –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤</span>
                            <span class="result-value" id="kdzInterestPaidTotal">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–í—Å—å–æ–≥–æ —Å–ø–ª–∞—á–µ–Ω–æ–≥–æ —Ç—ñ–ª–∞</span>
                            <span class="result-value" id="kdzBodyPaidTotal">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–ó–∞–ª–∏—à–æ–∫ —Ç—ñ–ª–∞ –Ω–∞ –∫—ñ–Ω–µ—Ü—å</span>
                            <span class="result-value" id="kdzBodyRemain">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–í—Å—å–æ–≥–æ –¥–æ —Å–ø–ª–∞—Ç–∏ (—Ç—ñ–ª–æ + –≤—ñ–¥—Å–æ—Ç–∫–∏)</span>
                            <span class="result-value" id="kdzTotalWithBody">0 –≥—Ä–Ω</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">–ö–æ–º—ñ—Å—ñ—è 4% (–∑ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤, —Å–ø–ª–∞—á–µ–Ω–∏—Ö –∑ –∫—Ä–µ–¥–∏—Ç–Ω–∏—Ö)</span>
                            <span class="result-value" id="kdzCommission4">0 –≥—Ä–Ω</span>
                        </div>
                    </div>

                    <div class="info-box">
                        ‚ÑπÔ∏è –í—ñ–¥—Å–æ—Ç–∫–∏: —Ç—ñ–ª–æ √ó —Å—Ç–∞–≤–∫–∞%/–¥–µ–Ω—å. –°—Ç–∞–≤–∫–∏ 0.3% –∞–±–æ 0.5% –Ω–∞ –¥–µ–Ω—å
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞: —Ñ–æ—Ä–º–∞ –ø–æ–≥–∞—à–µ–Ω—å -->
                <div>
                    <h3 style="margin-bottom: var(--space-12); font-size: 16px; font-weight: 600;">–ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ –ø–æ–≥–∞—à–µ–Ω–Ω—è</h3>
                    <div class="period-card" style="margin-bottom: var(--space-16);">
                        <div class="grid-3">
                            <div class="form-group">
                                <label for="repayDay">–î–µ–Ω—å –ø–æ–≥–∞—à–µ–Ω–Ω—è</label>
                                <input type="number" id="repayDay" value="14" min="1" max="365">
                            </div>
                            <div class="form-group">
                                <label for="repayInterest">–ü–æ–≥–∞—à–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ (–≥—Ä–Ω)</label>
                                <input type="number" id="repayInterest" value="0" step="0.01" min="0">
                            </div>
                            <div class="form-group">
                                <label for="repayBody">–ü–æ–≥–∞—à–µ–Ω–Ω—è —Ç—ñ–ª–∞ (–≥—Ä–Ω)</label>
                                <input type="number" id="repayBody" value="0" step="0.01" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="repaySource">–î–∂–µ—Ä–µ–ª–æ –∫–æ—à—Ç—ñ–≤</label>
                            <select id="repaySource">
                                <option value="own">–í–ª–∞—Å–Ω—ñ –∫–æ—à—Ç–∏</option>
                                <option value="credit">–ö—Ä–µ–¥–∏—Ç–Ω—ñ –∫–æ—à—Ç–∏ (4% –∫–æ–º—ñ—Å—ñ—è –≤—ñ–¥ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤)</option>
                            </select>
                        </div>
                        <button class="btn full" type="button" onclick="addKdzRepayment()">+ –î–æ–¥–∞—Ç–∏ –ø–æ–≥–∞—à–µ–Ω–Ω—è</button>
                        <div class="info-box" style="margin-top: var(--space-12);">
                            –í—ñ–¥—Å–æ—Ç–∫–∏ –ø–æ –ö–î–ó —Å–ø–∏—Å—É—é—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –¥–Ω—è –ø—ñ—Å–ª—è –¥–∞—Ç–∏ –ø–æ–≥–∞—à–µ–Ω–Ω—è. –ö–æ–º—ñ—Å—ñ—è 4% ‚Äî —è–∫—â–æ –≤—ñ–¥—Å–æ—Ç–∫–∏ —Å–ø–∏—Å–∞–Ω—ñ –∑ –∫—Ä–µ–¥–∏—Ç–Ω–∏—Ö –∫–æ—à—Ç—ñ–≤
                        </div>
                    </div>

                    <div class="result-section" id="kdzRepaymentsListSection" style="display:none;">
                        <h4 style="margin-bottom: var(--space-12); font-size: 14px; font-weight: 600;">–î–æ–¥–∞–Ω—ñ –ø–æ–≥–∞—à–µ–Ω–Ω—è</h4>
                        <div id="kdzRepaymentsList" style="font-size: 13px;"></div>
                    </div>
                </div>
            </div>

            <div class="result-section" id="kdzScheduleSection" style="display:none; margin-top: var(--space-24);">
                <h3 style="margin-bottom: var(--space-12); font-size: 16px; font-weight: 600;">
                    –ì—Ä–∞—Ñ—ñ–∫ –ø–æ –¥–Ω—è—Ö
                </h3>
                <div style="max-height: 260px; overflow: auto;">
                    <table class="kdz-table" id="kdzScheduleTable">
                        <thead>
                        <tr>
                            <th>–î–µ–Ω—å</th>
                            <th>–¢—ñ–ª–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫</th>
                            <th>–°—Ç–∞–≤–∫–∞ %/–¥–µ–Ω—å</th>
                            <th>–í—ñ–¥—Å–æ—Ç–∫–∏ –∑–∞ –¥–µ–Ω—å</th>
                            <th>–ü–æ–≥–∞—à–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤</th>
                            <th>–ü–æ–≥–∞—à–µ–Ω–Ω—è —Ç—ñ–ª–∞</th>
                            <th>–¢—ñ–ª–æ –Ω–∞ –∫—ñ–Ω–µ—Ü—å</th>
                            <th>–ù–∞–∫–æ–ø–∏—á–µ–Ω—ñ –≤—ñ–¥—Å–æ—Ç–∫–∏</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td colspan="7">–†–∞–∑–æ–º –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤</td>
                            <td id="kdzScheduleTotal">0 –≥—Ä–Ω</td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

        </div>
    </div>

</div>

<script>
    let periodCounter31 = 0;
    let periodCounter62 = 0;
    let periodCounterOverdraft = 0;

    // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            tab.classList.add('active');
            const tabId = tab.getAttribute('data-tab');
            document.getElementById(tabId).classList.add('active');
        });
    });

    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—É –¥–ª—è 3.1%
    function addPeriod31() {
        periodCounter31++;
        const periodsDiv = document.getElementById('periods31');
        const periodCard = document.createElement('div');
        periodCard.className = 'period-card';
        periodCard.id = 'period31-' + periodCounter31;
        periodCard.innerHTML = `
            <div class="period-header">
                <span class="period-title">–ü–µ—Ä—ñ–æ–¥ ${periodCounter31}</span>
                <button class="remove-btn" onclick="removePeriod31(${periodCounter31})" title="–í–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ä—ñ–æ–¥">√ó</button>
            </div>
            <div class="grid-3">
                <div class="form-group">
                    <label>–î–µ–Ω—å –≤—ñ–¥</label>
                    <input type="number" class="debt31-from" value="1" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–î–µ–Ω—å –¥–æ</label>
                    <input type="number" class="debt31-to" value="10" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–°—É–º–∞ –±–æ—Ä–≥—É (–≥—Ä–Ω)</label>
                    <input type="number" class="debt31-amount" value="25000" step="0.01" min="0">
                </div>
            </div>
        `;
        periodsDiv.appendChild(periodCard);
    }

    function removePeriod31(id) {
        const period = document.getElementById('period31-' + id);
        if (period) period.remove();
    }

    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—É –¥–ª—è 6.2%
    function addPeriod62() {
        periodCounter62++;
        const periodsDiv = document.getElementById('periods62');
        const periodCard = document.createElement('div');
        periodCard.className = 'period-card';
        periodCard.id = 'period62-' + periodCounter62;
        periodCard.innerHTML = `
            <div class="period-header">
                <span class="period-title">–ü–µ—Ä—ñ–æ–¥ ${periodCounter62}</span>
                <button class="remove-btn" onclick="removePeriod62(${periodCounter62})" title="–í–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ä—ñ–æ–¥">√ó</button>
            </div>
            <div class="grid-3">
                <div class="form-group">
                    <label>–î–µ–Ω—å –≤—ñ–¥</label>
                    <input type="number" class="debt62-from" value="1" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–î–µ–Ω—å –¥–æ</label>
                    <input type="number" class="debt62-to" value="10" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–°—É–º–∞ –±–æ—Ä–≥—É (–≥—Ä–Ω)</label>
                    <input type="number" class="debt62-amount" value="25000" step="0.01" min="0">
                </div>
            </div>
        `;
        periodsDiv.appendChild(periodCard);
    }

    function removePeriod62(id) {
        const period = document.getElementById('period62-' + id);
        if (period) period.remove();
    }

    // –û–≤–µ—Ä–¥—Ä–∞—Ñ—Ç
    function addPeriodOverdraft() {
        periodCounterOverdraft++;
        const periodsDiv = document.getElementById('periodsOverdraft');
        const periodCard = document.createElement('div');
        periodCard.className = 'period-card';
        periodCard.id = 'periodOverdraft-' + periodCounterOverdraft;
        periodCard.innerHTML = `
            <div class="period-header">
                <span class="period-title">–ü–µ—Ä—ñ–æ–¥ ${periodCounterOverdraft}</span>
                <button class="remove-btn" onclick="removePeriodOverdraft(${periodCounterOverdraft})" title="–í–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ä—ñ–æ–¥">√ó</button>
            </div>
            <div class="grid-3">
                <div class="form-group">
                    <label>–î–µ–Ω—å –≤—ñ–¥</label>
                    <input type="number" class="overdraft-from" value="1" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–î–µ–Ω—å –¥–æ</label>
                    <input type="number" class="overdraft-to" value="10" min="1" max="31">
                </div>
                <div class="form-group">
                    <label>–°—É–º–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è (–≥—Ä–Ω)</label>
                    <input type="number" class="overdraft-amount" value="2000" step="0.01" min="0">
                </div>
            </div>
        `;
        periodsDiv.appendChild(periodCard);
    }

    function removePeriodOverdraft(id) {
        const period = document.getElementById('periodOverdraft-' + id);
        if (period) period.remove();
    }

    // –ö—Ä–µ–¥–∏—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫
    function calculateCredit() {
        const isLeap = document.getElementById('leapYearCredit').checked;
        const daysInYear = isLeap ? 366 : 365;

        const periodsDiv31 = document.getElementById('periods31');
        const periodCards31 = periodsDiv31.querySelectorAll('.period-card');
        let totalInterest31 = 0;

        periodCards31.forEach(card => {
            const from = parseInt(card.querySelector('.debt31-from').value) || 0;
            const to = parseInt(card.querySelector('.debt31-to').value) || 0;
            const amount = parseFloat(card.querySelector('.debt31-amount').value) || 0;
            const days = to - from + 1;
            if (days > 0) {
                const interest = (amount * days * 3.1 * 12) / daysInYear / 100;
                totalInterest31 += interest;
            }
        });

        const periodsDiv62 = document.getElementById('periods62');
        const periodCards62 = periodsDiv62.querySelectorAll('.period-card');
        let totalInterest62 = 0;

        periodCards62.forEach(card => {
            const from = parseInt(card.querySelector('.debt62-from').value) || 0;
            const to = parseInt(card.querySelector('.debt62-to').value) || 0;
            const amount = parseFloat(card.querySelector('.debt62-amount').value) || 0;
            const days = to - from + 1;
            if (days > 0) {
                const interest = (amount * days * 6.2 * 12) / daysInYear / 100;
                totalInterest62 += interest;
            }
        });

        const overdraftRange = document.querySelector('input[name="overdraftRange"]:checked').value;
        const rate = overdraftRange === 'more' ? 6.2 : 3.1;

        const periodsDivOverdraft = document.getElementById('periodsOverdraft');
        const periodCardsOverdraft = periodsDivOverdraft.querySelectorAll('.period-card');
        let totalInterestOverdraft = 0;

        periodCardsOverdraft.forEach(card => {
            const from = parseInt(card.querySelector('.overdraft-from').value) || 0;
            const to = parseInt(card.querySelector('.overdraft-to').value) || 0;
            const amount = parseFloat(card.querySelector('.overdraft-amount').value) || 0;
            const days = to - from + 1;
            if (days > 0) {
                const interest = (amount * days * rate * 12) / daysInYear / 100;
                totalInterestOverdraft += interest;
            }
        });

        const totalInterest = totalInterest31 + totalInterest62;

        document.getElementById('interest31').textContent = totalInterest31.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('interest62').textContent = totalInterest62.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('totalInterest').textContent = totalInterest.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('appliedRate').textContent = rate + '%';
        document.getElementById('interestOverdraft').textContent = totalInterestOverdraft.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('resultCredit').style.display = 'block';
    }

    // –†–æ–∑—Å—Ç—Ä–æ—á–∫–∞
    function calculateInstallment() {
        const amount = parseFloat(document.getElementById('amountInst').value) || 0;
        const months = parseInt(document.getElementById('monthsInst').value) || 0;
        if (amount <= 0 || months <= 0) return;

        const monthlyFee = amount * 0.019;
        const monthlyPayment = (amount / months) + monthlyFee;
        const totalOverpayment = monthlyFee * months;
        const totalAmount = amount + totalOverpayment;

        document.getElementById('monthlyPayment').textContent = monthlyPayment.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('monthlyFee').textContent = monthlyFee.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('totalOverpayment').textContent = totalOverpayment.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('totalInstallment').textContent = totalAmount.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('resultInst').style.display = 'block';
    }

    addPeriod31();
    addPeriod62();
    addPeriodOverdraft();

    ['amountInst', 'monthsInst'].forEach(id => {
        document.getElementById(id).addEventListener('input', () => {
            if (document.getElementById('resultInst').style.display === 'block') {
                calculateInstallment();
            }
        });
    });

    // --- –ö–î–ó: —Ñ–æ—Ä–º–∞ –ø–æ–≥–∞—à–µ–Ω—å + –≥—Ä–∞—Ñ—ñ–∫ –ø–æ –¥–Ω—è—Ö ---

    const kdzRepayments = [];

    function renderRepaymentsList() {
        const section = document.getElementById('kdzRepaymentsListSection');
        const container = document.getElementById('kdzRepaymentsList');
        container.innerHTML = '';
        if (kdzRepayments.length === 0) {
            section.style.display = 'none';
            return;
        }
        section.style.display = 'block';
        kdzRepayments
            .sort((a, b) => a.day - b.day)
            .forEach((r, idx) => {
                const div = document.createElement('div');
                div.style.display = 'flex';
                div.style.justifyContent = 'space-between';
                div.style.alignItems = 'center';
                div.style.padding = '4px 0';
                div.style.borderBottom = '1px solid rgba(0,0,0,0.05)';
                const side = document.createElement('div');
                side.textContent =
                    `–î–µ–Ω—å ${r.day}: –≤—ñ–¥—Å–æ—Ç–∫–∏ ${r.interest.toFixed(2)} –≥—Ä–Ω, —Ç—ñ–ª–æ ${r.body.toFixed(2)} –≥—Ä–Ω`;
                const pill = document.createElement('span');
                pill.className = 'pill';
                pill.textContent = r.source === 'credit' ? '–∫—Ä–µ–¥–∏—Ç–Ω—ñ' : '–≤–ª–∞—Å–Ω—ñ';
                const del = document.createElement('button');
                del.textContent = '√ó';
                del.className = 'remove-btn';
                del.style.fontSize = '14px';
                del.onclick = () => {
                    kdzRepayments.splice(idx, 1);
                    renderRepaymentsList();
                };
                const right = document.createElement('div');
                right.style.display = 'flex';
                right.style.alignItems = 'center';
                right.style.gap = '8px';
                right.appendChild(pill);
                right.appendChild(del);
                div.appendChild(side);
                div.appendChild(right);
                container.appendChild(div);
            });
    }

    function addKdzRepayment() {
        const day = parseInt(document.getElementById('repayDay').value) || 0;
        const interest = parseFloat(document.getElementById('repayInterest').value) || 0;
        const body = parseFloat(document.getElementById('repayBody').value) || 0;
        const source = document.getElementById('repaySource').value;

        if (day <= 0) return;
        if (interest <= 0 && body <= 0) return;

        kdzRepayments.push({ day, interest, body, source });
        renderRepaymentsList();
    }

    function calculateKdz() {
        const initialBody = parseFloat(document.getElementById('kdzBody').value) || 0;
        const days = parseInt(document.getElementById('kdzDays').value) || 0;
        const rate = parseFloat(document.querySelector('input[name="kdzRate"]:checked').value) || 0;

        if (initialBody <= 0 || days <= 0) {
            document.getElementById('resultKdz').style.display = 'none';
            document.getElementById('kdzScheduleSection').style.display = 'none';
            return;
        }

        const tbody = document.querySelector('#kdzScheduleTable tbody');
        tbody.innerHTML = '';

        let body = initialBody;
        let totalInterest = 0;
        let totalInterestPaid = 0;
        let totalBodyPaid = 0;
        let totalInterestPaidFromCredit = 0;
        let accumulatedInterest = 0;

        const repayMap = {};
        kdzRepayments.forEach(r => {
            if (!repayMap[r.day]) repayMap[r.day] = [];
            repayMap[r.day].push(r);
        });

        for (let d = 1; d <= days; d++) {
            const dailyInterest = body * rate / 100;
            totalInterest += dailyInterest;
            accumulatedInterest += dailyInterest;

            let payInterest = 0;
            let payBody = 0;
            let payInterestFromCredit = 0;

            if (repayMap[d]) {
                repayMap[d].forEach(r => {
                    const i = r.interest || 0;
                    const b = r.body || 0;
                    payInterest += i;
                    payBody += b;
                    if (r.source === 'credit') {
                        payInterestFromCredit += i;
                    }
                });
            }

            if (payInterest > dailyInterest) payInterest = dailyInterest;
            if (payBody > body) payBody = body;

            totalInterestPaid += payInterest;
            totalBodyPaid += payBody;
            totalInterestPaidFromCredit += payInterestFromCredit;

            body = body - payBody;
            accumulatedInterest -= payInterest;

            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${d}</td>
                <td>${(body + payBody).toFixed(2)} –≥—Ä–Ω</td>
                <td>${rate.toFixed(2)}%</td>
                <td>${dailyInterest.toFixed(2)} –≥—Ä–Ω</td>
                <td>${payInterest.toFixed(2)} –≥—Ä–Ω</td>
                <td>${payBody.toFixed(2)} –≥—Ä–Ω</td>
                <td>${body.toFixed(2)} –≥—Ä–Ω</td>
                <td>${accumulatedInterest.toFixed(2)} –≥—Ä–Ω</td>
            `;
            tbody.appendChild(tr);
        }

        const commission4 = totalInterestPaidFromCredit * 0.04;
        const totalWithBody = initialBody + totalInterest;

        document.getElementById('kdzBodyOut').textContent = initialBody.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzInterestTotal').textContent = totalInterest.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzInterestPaidTotal').textContent = totalInterestPaid.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzBodyPaidTotal').textContent = totalBodyPaid.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzBodyRemain').textContent = body.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzTotalWithBody').textContent = totalWithBody.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzCommission4').textContent = commission4.toFixed(2) + ' –≥—Ä–Ω';
        document.getElementById('kdzScheduleTotal').textContent = totalInterest.toFixed(2) + ' –≥—Ä–Ω';

        document.getElementById('resultKdz').style.display = 'block';
        document.getElementById('kdzScheduleSection').style.display = 'block';
    }
</script>
</body>
</html>
